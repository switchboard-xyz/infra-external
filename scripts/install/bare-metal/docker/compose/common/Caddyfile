# IPv4 -> use - instead of . -> 0.0.0.0 -> 0-0-0-0.sslip.io
# IPv6 -> use - instead of : -> AAAA:BBBB::0000 -> AAAA-BBBB--0000

__IP4__.sslip.io,
__IP4__
{
  # BEGIN DEVNET
  handle_path /devnet {
    reverse_proxy /oracle*   devnet-oracle:8081
    reverse_proxy /gateway*  devnet-gateway:8082
    reverse_proxy /guardian* devnet-guardian:8083
  }
  # END DEVNET

  # BEGIN MAINNET
  handle_path /mainnet {
    reverse_proxy /oracle*   mainnet-oracle:8081
    reverse_proxy /gateway*  mainnet-gateway:8082
    reverse_proxy /guardian* mainnet-guardian:8083
  }
  # END MAINNET

  header {
    X-Content-Type-Options nosniff
    Referrer-Policy  strict-origin-when-cross-origin
    Strict-Transport-Security "max-age=63072000; includeSubDomains;"
    Permissions-Policy "accelerometer=(), camera=(), geolocation=(), gyroscope=(), magnetometer=(), microphone=(), payment=(), usb=(), interest-cohort=()"
    X-Frame-Options SAMEORIGIN
    X-XSS-Protection 1
    X-Robots-Tag none
    -server
  }

  encode zstd gzip
  # ENABLE THIS TO ENABLE LOGS FOR ALL REQUESTS
  #log output
}
